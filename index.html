<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>New Flight Details</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>New Flight Details</h1>
        <p id="flightDetails"></p>
    </div>

    <script>
        // Function to populate the flight details
        async function populateFlightDetails() {
            var userInput = "New Flight"; // Replace with your actual user input

            var response = await getChatbotResponse(userInput); // Call the OpenAI ChatGPT API to get the response

            var flightDetails = generateFlightDetails(response); // Generate flight details based on the chatbot response

            // Update the HTML element with the flight details
            document.getElementById("flightDetails").innerHTML = flightDetails;
        }

        // Function to call the OpenAI ChatGPT API and get the response
        async function getChatbotResponse(userInput) {
            var response = await fetch("https://api.openai.com/v1/chat/completions", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer org-w8MYDuacOyjAmRG2Z73tQfBm" // Replace with your actual OpenAI API key
                },
                body: JSON.stringify({
                    "model": "gpt-3.5-turbo",
                    "messages": [
                        { "role": "system", "content": "You are a helpful assistant." },
                        { "role": "user", "content": userInput }
                    ]
                })
            });

            var data = await response.json();
            var chatbotResponse = data.choices[0].message.content;

            return chatbotResponse;
        }

        // Function to generate the flight details HTML based on the chatbot response
        function generateFlightDetails(response) {
            var flightDetails = `
                Thank you for providing the details for your new flight. Here's the response from the chatbot:<br><br>
                ${response}
            `;

            return flightDetails;
        }

        // Call the function to populate the flight details when the page loads
        window.addEventListener("load", populateFlightDetails);
    </script>
</body>
</html>
